id: transform-example
name: Transform Node Example
description: Demonstrates data transformation with map, filter, and reduce
version: 1.0.0

nodes:
  # Input node with array data
  - id: input-1
    type: input
    position: { x: 100, y: 150 }
    label: "Array Input"
    inputType: text
    value: "[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]"
    inputs: []
    outputs:
      - id: value
        name: value
        type: output

  # Display the original input
  - id: display-1
    type: display
    position: { x: 100, y: 300 }
    label: "Original Data"
    displayType: json
    inputs:
      - id: input
        name: input
        type: input
    outputs: []

  # Transform: Map (multiply by 2)
  - id: transform-1
    type: transform
    position: { x: 400, y: 100 }
    label: "Map: Double Values"
    transformType: map
    code: "item * 2"
    inputs:
      - id: input
        name: input
        type: input
    outputs:
      - id: output
        name: output
        type: output

  # Display mapped result
  - id: display-2
    type: display
    position: { x: 700, y: 100 }
    label: "Doubled"
    displayType: json
    inputs:
      - id: input
        name: input
        type: input
    outputs: []

  # Transform: Filter (greater than 5)
  - id: transform-2
    type: transform
    position: { x: 400, y: 250 }
    label: "Filter: > 5"
    transformType: filter
    code: "item > 5"
    inputs:
      - id: input
        name: input
        type: input
    outputs:
      - id: output
        name: output
        type: output

  # Display filtered result
  - id: display-3
    type: display
    position: { x: 700, y: 250 }
    label: "Filtered"
    displayType: json
    inputs:
      - id: input
        name: input
        type: input
    outputs: []

  # Transform: Reduce (sum all values)
  - id: transform-3
    type: transform
    position: { x: 400, y: 400 }
    label: "Reduce: Sum"
    transformType: reduce
    code: "acc + item"
    inputs:
      - id: input
        name: input
        type: input
    outputs:
      - id: output
        name: output
        type: output

  # Display reduced result
  - id: display-4
    type: display
    position: { x: 700, y: 400 }
    label: "Sum Total"
    displayType: text
    inputs:
      - id: input
        name: input
        type: input
    outputs: []

connections:
  # Connect input to original display
  - from: input-1
    to: display-1
    fromPort: value
    toPort: input

  # Connect input to map transform
  - from: input-1
    to: transform-1
    fromPort: value
    toPort: input

  # Connect map to its display
  - from: transform-1
    to: display-2
    fromPort: output
    toPort: input

  # Connect input to filter transform
  - from: input-1
    to: transform-2
    fromPort: value
    toPort: input

  # Connect filter to its display
  - from: transform-2
    to: display-3
    fromPort: output
    toPort: input

  # Connect input to reduce transform
  - from: input-1
    to: transform-3
    fromPort: value
    toPort: input

  # Connect reduce to its display
  - from: transform-3
    to: display-4
    fromPort: output
    toPort: input
